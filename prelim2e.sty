%%
%% This is file `prelim2e.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% prelim2e.dtx  (with options: `package')
%% 
%% Copyright (C) [1995..2001] by Martin Schroeder. All rights reserved.
%% 
%% This file is part of the Prelim2e package
%% 
%% This program may be redistributed and/or modified under the terms
%% of the LaTeX Project Public License, either version 1.0 of this
%% license, or (at your option) any later version.
%% The latest version of this license is in
%%    CTAN:macros/latex/base/lppl.txt.
%% 
%% Happy users are requested to send me a postcard. :-)
%% 
%% The Prelim2e package contains these files:
%% 
%%       prelim2e.asc
%%       prelim2e.dtx
%%       prelim2e.dvi
%%       prelim2e.ins
%%       prelim2e.bug
%% 
%% Error Reports in case of UNCHANGED versions to
%% 
%%                         Martin Schr"oder
%%                         Cr"usemannallee 3
%%                         28213 Bremen
%%                         Germany
%%                         martin@oneiros.de
%% 
\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{prelim2e}
         [2001/02/17 v1.23 prelim2e Package (MS)]
%% \CharacterTable
%% {Upper-case    \A\B\C\D\E\F\G\H\I\J\K\L\M\N\O\P\Q\R\S\T\U\V\W\X\Y\Z
%%  Lower-case    \a\b\c\d\e\f\g\h\i\j\k\l\m\n\o\p\q\r\s\t\u\v\w\x\y\z
%%  Digits        \0\1\2\3\4\5\6\7\8\9
%%  Exclamation   \!     Double quote  \"     Hash (number) \#
%%  Dollar        \$     Percent       \%     Ampersand     \&
%%  Acute accent  \'     Left paren    \(     Right paren   \)
%%  Asterisk      \*     Plus          \+     Comma         \,
%%  Minus         \-     Point         \.     Solidus       \/
%%  Colon         \:     Semicolon     \;     Less than     \<
%%  Equals        \=     Greater than  \>     Question mark \?
%%  Commercial at \@     Left bracket  \[     Backslash     \\
%%  Right bracket \]     Circumflex    \^     Underscore    \_
%%  Grave accent  \`     Left brace    \{     Vertical bar  \|
%%  Right brace   \}     Tilde         \~}
%%
%% \iffalse meta-comment
%% ===================================================================
%%  @LaTeX-package-file{
%%    author            = {Martin Schr\"oder},
%%    version           = "1.23",
%%    date              = "17 February 2001",
%%    filename          = "prelim2e.sty",
%%    address           = {Martin Schr\"oder
%%                         Cr\"usemannallee 3
%%                         28213 Bremen
%%                         Germany},
%%    telephone         = "+49-421-2239425",
%%    email             = "martin@oneiros.de",
%%    pgp-Key           = "2048 bit / KeyID 292814E5",
%%    pgp-fingerprint   = "7E86 6EC8 97FA 2995 82C3  FEA5 2719 090E",
%%    docstring         = "LaTeX package which allows the marking of
%%                         preliminary versions of a document.
%%  }
%% ===================================================================
%% \fi
\newif\if@prelim@draft
\newif\if@prelim@time
\newif\if@prelim@scrtime
\newcommand{\PrelimWords}{}
\DeclareOption{draft}{\@prelim@drafttrue}
\DeclareOption{final}{\@prelim@draftfalse}
\DeclareOption{danish}{%
   \renewcommand{\PrelimWords}{Forel\o{}big version}}
\DeclareOption{english}{%
   \renewcommand{\PrelimWords}{Preliminary version}}
\DeclareOption{french}{%
   \renewcommand{\PrelimWords}{Version pr\'eliminaire}}
\DeclareOption{german}{%
   \renewcommand{\PrelimWords}{Vorl\"aufige Version}}
\DeclareOption{italian}{%
   \renewcommand{\PrelimWords}{Versione preliminare}}
\DeclareOption{time}{\@prelim@timetrue}
\DeclareOption{scrtime}{\@prelim@scrtimetrue\@prelim@timetrue}
\DeclareOption*{%
   \if@prelim@scrtime
      \PassOptionsToPackage{\CurrentOption}{scrtime}%
   \fi
   }
\ExecuteOptions{draft,english}
\ProcessOptions\relax
\RequirePackage{everyshi}[1995/01/25]
\if@prelim@scrtime
   \RequirePackage{scrtime}
\fi
\newcommand{\PrelimText}{%
   \textnormal{%
      \footnotesize%
      \PrelimTextStyle%
      \PrelimWords{} -- \today
      \if@prelim@time
         \ -- \thistime
      \fi
      }%
   }
\newcommand{\PrelimTextStyle}{}
\newcommand{\@Prelim@EveryShipout}{
   \bgroup
      \dimen\z@=\wd\@cclv
      \dimen\@ne=\ht\@cclv
      \dimen\tw@=\dp\@cclv
      \dimen\thr@@=\dimen1
      \advance\dimen\thr@@ by \dimen\tw@
      \global\setbox\@cclv\vbox to \dimen\thr@@{%
         \hb@xt@\dimen\z@{%
            \box\@cclv%
            \hss%
            }%
         \vbox to \z@{%
            \hb@xt@\dimen\z@{%
               \let\protect\relax
               \hfill\PrelimText\hfill%
               }%
            \vss%
            }%
         \vss%
         }%
      \wd\@cclv=\dimen\z@
      \ht\@cclv=\dimen\@ne
      \dp\@cclv=\dimen\tw@
   \egroup
   }
\if@prelim@draft
   \EveryShipout{\@Prelim@EveryShipout}
\fi
\endinput
%%
%% End of file `prelim2e.sty'.
